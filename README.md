<p align="center">
  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACZCAMAAAB+KoMCAAAA7VBMVEX////6zCcoKCguhcLzpSQNDQ3zcEMWFhbCwsLDyM52o8uppqMYf8EAAAD6yhH85q/zoQ351af//vr1tFn6yQDyYiv9787c3Nz+8tXv7+8cHB1+fn35+fojIyOioqL63rr97dhlZGSEp8gAeb5vbW1Wl8rv9Pnl5eb3yY/NzM3yZzNJSUnivY9cW1vq6uvd3N371cv4tKHzbkD1iWj96+b3po/5v6+JiYoyMTH0elGVlJW7urs7Ojr86ND2vGr3xH31sU30qjX99Oaxy+T1tFTE1upDjcaavNyht832tSX5xSb2tQCwsLDxVgv++e0IACK3AAAFg0lEQVR4nO2ca1/bNhSHlYtxCtGWcqlrW0rJYjBOSOhYhzMnZXSs3dpm/f4fZ5Lt3IhDLigXx//nBT/iyMJ+ONI5kgmEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACqOT5/95SPx9u+qDRyfl9J4uTjti8sdfxZqRQTqdwjMpfiYYZI6fITXC7B/WyTwuXDti8vRXx8zqRw+W7bF5geTp41WSx+2vYFpobj54NShOVf277EtHA+VyUqogWZq7L4cLIa91cZ+yXMV7kqssh/rfJSvVcbpb07KkOdDwrrUqNe3hz1X8zdUlmsFNW5NMqFtVMOf4b8snMqVdb4G1BZfnysF8oXl+pUJm5uLE3cl7IafxNRWbh8rH8hh2VVKitXr1VwH/X2d6pUli8fQ5NqVFauXSW3fhV1XVE1W25G5QX5XC8oUlm5fmUoufWBSlXLpY2knQtyKMa4GpXCpKdW5bmS3tao8iJGfitGtxjjSuZKaTJjKg/ZZcSXQvmfcJ78XFCgMjS5qyrr61FZrscUxurK8ktVRiZ3VeXhJvn3ZQvHyrUXYhwrQL3Ko03SXU3l12+5CX5SQi737atSlVTfHNReaYDn1ohSlfnNYa2kcp0mhcsMqVyvyVwuOyq/r1vl98yoPF23ylNlC8cdV/l2/SrPM6LyzfpVvoXKtKrklqgLLah8sUpOm361GjhQ+VKVvOMRJiB9PVKi8eyqfP/rS1Tqbcba3ZJnRio7gVdbyeV+qDz74/3KKvWAsT7VBJEQh5Asq2zcnv32YUWV1GDtsWaWw9izKrmefpXsGZUHB7dnv08/XEtUyS3J0BY1WUkbvsd1qdLikvhIdMqgPW929WTTqVF51zibiTApaDTuFlBp0abt+77TGvjQ2Ehlr9ls2ozZzRAeHeGW1vL9ZtxVx2Q3+cS6KS0qP5wdzKfxdMqcVqk5LgvTtanFAUqFShoGqpg2ZSo3zaiFHPb6EXGp3RaHSezbqhJmNpMGeVpU3jUWUHlw+99kLp9SqfvCyo1hGEyq5C3HcWom82qOhE+oZK5ooVeZaxPW9kwpPOyCirBljpZelYqi0hIiO1Qih68WFZSxOsLF6Ke0xlgrbCHPFSrFuz6lmsEGiV1vmowECVNHSlSqmSu58GRHg1Nq0bpt1xUD3nQlZmhqMoMLlcKsDOAeY904FK3ODSNd+jT5pEalkgzOm0SM01EG1mTwiQw+jMIklXZokN4wd9Ab10qMGfyJyxSpnM3idaUQwlw/T8fSxngGT1QZvdC6jI2aUXG83Zx0uR8qF17t8F6YwI1gVGjPVRk36zMyVgPRvnA5WRPth8rF1+Bc92/CJOMP9K2ikkuTRmcPo3ImSasdnfYCYZPY1nIqxwY4tzx50j7OlUuplJEpa0NDW0olddmgN13MEqQ61XUWVebDPYxBPn6icqxeGlcpl+ZBdFgTLZid4rpSjcqOpoV/k9ITS5zkqJQFpKuLVuGmm1QpX1BRlkd1Z576ohBtJawcs6XSCkyvXw0CMe8NNyWfqMzLmrF9FFS7XrRwZO1uEIhjrBZOrpY41+0k7WdkTSWJF4nt2iCutOFOxSAuDTLazqjGy0riDgLRJV7yE4tsqeQ9X0RbqVR16DCurCCwJ4KMU6dfkm14pDIQZxw5g3Ui70wnnCyqlE9p5aOHiQe1049tw0bhUTnArckT9mEXXYXKZRkVQ/OBSqiEytSpJFCpRiVv2TZUKlEpH6RBpRqVSwCVUAmVUAmVUAmVUAmVe6xS2xwrfPI2RSq90kZZ+vPgKVK560ClMqBSGVCpDKhUBlQqAyqVAZXKeHOq5p8KzSYzKn/8vHZ+bPseAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBt8j8px0LA02cqoAAAAABJRU5ErkJggg==" width="200" alt="Logo" />
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">One-line command to quickly publish resources to a specified server..</p>
    <p align="center">
<a href="https://www.npmjs.com/~publish-sftp" target="_blank"><img src="https://img.shields.io/npm/v/publish-sftp.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~publish-sftp" target="_blank"><img src="https://img.shields.io/npm/l/publish-sftp.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~publish-sftp" target="_blank"><img src="https://img.shields.io/npm/dm/publish-sftp.svg" alt="NPM Downloads" /></a>
</p>

### Usage
> Add sftp.json to the root of the project
```
// ./sftp.json
{
    "localPath": "./dist",
    "remotePath": "/export/App/xxx",
    "protectedRemotePath": "/export/App/xxx",
    "connect": {
        "host": "xxx.xxx.xxx.xx",
        "port": 22,
        "username": "root",
        "password": "123456"
    }
}
```

### Getting started
```
yarn add publish-sftp
```
![image](https://pic4.zhimg.com/80/v2-e403806e29315abb62e339fe555d55f4_1440w.png)
> 复制 localPath 下所有文件到 remotePath/xjx/test, -c 参数为空则是复制到 remotePath, 远程目录不存在会先创建

#### copy
> 复制 localPath 下所有文件到 remotePath 目录下, 如果 xxx 有值则是复制到 `${remotePath}/${xxx}` 目录
```
publish-sftp -c xxx
```

#### remove
> 删除 remotePath 目录, 如果 xxx 有值则是删除 `${remotePath}/${xxx}` 目录
```
publish-sftp -r xxx
```

### Tips
> protectedRemotePath 字段为避免误操作增加，删除等危险操作涉及到该目录会立即终止 ⚠️